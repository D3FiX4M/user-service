syntax = "proto3";

option java_package = "ru.microservices.proto";

option java_multiple_files = true;


// COMMON
import "google/protobuf/empty.proto";


// REQUESTS
import "external/auth_service/request/SignInRequest.proto";
import "external/auth_service/request/SignUpRequest.proto";
import "external/auth_service/request/TokenRequest.proto";

// RESPONSES
import "external/auth_service/response/TokenResponse.proto";
import "external/auth_service/response/ValidateTokenResponse.proto";


service AuthService{
    // TODO userService Получение данных юзера, по username для зашивки в токен
    rpc signIn(SignInRequest) returns (TokenResponse) {}


    // TODO userService Отправка данных о новой регистрации в userService, для сохранения
    rpc signUp(SignUpRequest) returns (google.protobuf.Empty){}

    // TODO revoke  user token
    rpc logout(google.protobuf.Empty) returns(google.protobuf.Empty){}

    // TODO обновить access по refresh токену
    rpc refreshToken(TokenRequest) returns (TokenResponse) {}

    // TODO userService Проверка на существовавание юзера, если это не авторизация
    rpc validateToken(TokenRequest) returns (ValidateTokenResponse) {}
}
